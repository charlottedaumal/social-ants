

#JOURNAL PROJET SV 2021

##groupe 31 Charlotte Daumal et Clémence Kiehl
##coach: Aline Brunner 

**Semaine 1/2 (17/03 -> 31/03):** 

Pour commencer la 1ère semaine de projet, nous avons terminé d’installer l’environnement de travail (il nous a fallu régler quelques soucis techniques liés à Qt creator avec l’assistante). Charlotte travaille depuis la VM et Clémence depuis son propre PC. 
	Par la suite, nous avons configuré le projet sur Qt creator et nous avons commencé l’étape 1 le mardi 16/03 avec le codage de la classe ToricPosition. Nous nous sommes réparti le travail de la manière suivante: Charlotte s’est occupée des méthodes dans l’ordre allant de la méthode clamp() jusqu’à la surcharge de l’opérateur += et Clémence était chargée de continuer la suite jusqu’à la dernière méthode ToricDistance(). 
	Certaines fonctions nous ont posé quelques problèmes. Clémence a notamment rencontré des difficultés pour la méthode toricVector, c’est pourquoi nous nous sommes rassemblées le 26/03 pour revoir le code de cette fonction et nous avons réglé par la même occasion les dernières erreurs de compilation. 
	Nous avons également eu des difficultés lors de l’étape de test. Après avoir décommenté les parties de CMake.List.txt, rien ne s’affichait dans la fenêtre "Application Output" mais des erreurs de compilation apparaissaient dans la fenêtre « Issues ». Nous avons donc contacté notre assistante par mail afin de lui faire part de ce problème. Elle nous a aidé en nous disant que l’erreur venait de l’opérateur d’affichage. 
Le mardi 30/03 nous avons commencé à coder l’étape 2. 

**Semaine 3/4 (31/03 -> 16/04):**
	
La 3ème semaine nous avons codé la partie 2.1 : Clémence a rédigé la classe Environment et Charlotte s’est occupé des classes Food et Foodgenerator. En parallèle, pendant la semaine de vacances, nous avons corrigé toutes les erreurs des classes ToricPosition (notamment la méthode ToricVector ) et Positionable pour faire fonctionner tous les tests pour le rendu du 14/04. Le week-end des vacances, Charlotte a commencé le code de la classe Animal de la partie 2.2 puis nous nous sommes réunies le mardi 13/04 pour continuer: nous avons notamment revu le constructeur de Animal qui posait problème et codé les dernières méthodes et rajouté des getters et setters pour améliorer l’encapsulation. Nous avons eu quelques problèmes au moment des tests de la partie 2.2. Nous nous sommes faites aidées le mardi en séance d’assistanat et Charlotte a réajusté la méthode move() car nous avions un problème de déplacement des fourmis. Le test en mode debugging posait aussi problème pour l’affichage des quantités de nourriture et du nombre de points de vie des animaux mais nous avons réussi à le résoudre en fin de semaine. Une fois que tous les tests de la partie 2 fonctionnaient, nous avons commencé la partie 3 le week end du 16/04. Charlotte s’est occupé de la partie ouvrière et soldat et Clémence de la partie Fourmillière. 

**Semaine 5/6 (20/04 -> 4/05):** 

Nous avons revu ensemble chacun de nos codes en tp le mardi 20/04 et commencé les tests de la partie 3.1. En fin de semaine, Charlotte s’est focalisée sur les points qui posaient encore problème pour ces tests-là et Clémence a commencé la partie 3.2 avec la classe Phéromone jusqu’à l’étape de déplacement sensoriel. 

En tp du mardi 27/04, nous avons mis les codes en commun et nous avons codé la méthode getPheromoneQuantitiesPerIntervalForAnt(). Cette méthode a posé quelques soucis et Charlotte l’a revue par la suite au moment des tests. Nous avons aussi codé la méthode SpreadPheromones() et commencé la méthode ComputeRotationProbs(). En fin de semaine, Charlotte s’est mise aux tests de la partie 3.2 et a continué de coder la méthode ComputeRotationProbs(). Clémence s’est appuyée du compte rendu intermédiaire de l’assistante pour revoir les points qui posaient problème ou pouvaient être améliorés (constructeurs, destructeurs, booléens, spreadPheromones,..). 
	Les tests de la partie 3.2 ont posé pas mal de problèmes, dont Charlotte s’est occupée: au niveau du test 14, nous avions un problème avec les phénomènes: Ils suivaient les fourmis et non l’inverse et nous n’avions pas d’évaporation. De la même manière pour le test 15, le cercle olfactif de la fourmi affichait des quantités de phéromones toutes nulles. Le test 16 a aussi été assez laborieux, étant donné que la fourmi ne détectait pas le chemin de phéromones et ne parvenait plus à tourner. Charlotte s’est donc concentrée sur ces problèmes de test jusqu’au tp du mardi suivant. Le week-end du 1/05, Clémence a commencé la partie 4 du projet et a codé la partie reconnaissance de l’ennemi. 

**Semaine7/8 (4/05 -> 18/05):**
	
En séance de tp du mardi 4/05, Charlotte a pu voir avec l’assistante les derniers problèmes de la partie 3.2 et nous avons testé les tests de la partie 4.1. Nous n’avons pas eu de problème pour ces tests-ci. Le lendemain, Clémence a commencé le code de la partie Combat. La question principale de cette partie était de savoir comment nous allions utiliser le polymorphisme pour éviter de dupliquer du code au niveau des sous-classes de Animal. En fin de semaine, Charlotte a rectifié les derniers problèmes de la partie 3.2 vus en tp. 
	Le mardi 11/05, nous avons fait un point ensemble sur la partie Combat et notamment sur la fonction update() appelée dans les différentes sous-classes et nous avons rédigé ensemble la méthode d’attaque. Nous avons commencé le test 19 des combats le mardi après-midi et nous avons rencontré le problème suivant: les fourmis étaient indifférentes les unes des autres. Un des problèmes était que nous n’activions pas le mode attaque chez l’ennemi de l’animal de l’instance courante. Nous avons donc revu le code en fin de semaine. Charlotte a repensé à une autre conception de notre méthode Attack() et a imaginé un compteur de temps de paix, afin que les animaux ne rebasculent pas automatiquement en mode attaque après leur combat. 	En parallèle, nous avons aussi commencé ce week-end là la partie 5.1 sur les Statistiques et Charlotte a abouti à une conception qui faisait fonctionner les test 20 à 22, malgré quelques problèmes qu’elle a rectifié en tp le mardi 18/05. Nous avons donc fini la partie 5.1. Ce même jour, Clémence a codé la partie 5.2 avec la méthode loadMap pour la lecture de fichier. 	Nous avons fait le test 23 de la simulation depuis un point de reprise le mardi après-midi. Au début, le test crachait et nous indiquait une erreur au niveau de la conversion de string à double std::stoi mais nous avons pu régler le problème et clôturer la partie 5. 

	

Le week-end qui a suivi, nous avons chacune entamé la partie des extensions en nous appuyant sur les suggestions de l’énoncé. Charlotte a codé une extension permettant de réduire la taille de la nourriture.
Elle a aussi codé une extension permettant une mémorisation des points de reprises (on mémorise dans un fichier un point de reprise correspondant à l’état courant de la simulation)
	Clémence, quant à elle s’est penchée sur la question des insecticides qui sont générés automatiquement dans l’environnement à la manière des sources de nourriture (classe InsecticideGenerator héritée d’une classe classe générale Generator) et qui polluent les sources de nourriture et les fourmillières à proximité. Par conséquent, les fourmis ouvrières qui collectent de la nourriture contaminée meurent et les fourmilières exposées sont détruites. Enfin, nous avons codé une dernière extension ensemble le 30/05 introduisant un cycle Jour/Nuit.
Charlotte a réglé certains problèmes le 30/05 liés à l'affichage de la température et a rajouté les fonds d'environnement associés aux différents états (Nuit, Jour, gel, canicule).

